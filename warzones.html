<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Warzone Upload Tracker</title>

<style>
:root {
    --bg: #0f172a;
    --card-bg: #1e293b;
    --text: #f1f5f9;
    --muted: #94a3b8;
    --primary: #3b82f6;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --pending-bg: #fef3c7;
    --pending-text: #92400e;
    --assigned-bg: #dbeafe;
    --assigned-text: #1e40af;
    --completed-bg: #d1fae5;
    --completed-text: #065f46;
    --uploaded-yes: #10b981;
    --uploaded-no: #ef4444;
    --border: #334155;
    --search-bg: #1e293b;
    --search-focus: #3b82f6;
}

* {
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    padding-bottom: 100px;
}

/* HEADER */
header {
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
    color: #fff;
    padding: 20px 16px;
    text-align: center;
    font-size: 24px;
    font-weight: 700;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    position: sticky;
    top: 0;
    z-index: 100;
}

header span {
    font-size: 14px;
    font-weight: 400;
    opacity: 0.9;
    display: block;
    margin-top: 5px;
}

/* SEARCH CONTAINER */
.search-container {
    padding: 16px;
    background: var(--card-bg);
    margin: 0;
    position: sticky;
    top: 88px;
    z-index: 90;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.search-box {
    position: relative;
    width: 100%;
}

.search-input {
    width: 100%;
    padding: 14px 20px 14px 48px;
    border-radius: 12px;
    border: 2px solid var(--border);
    background: var(--search-bg);
    color: var(--text);
    font-size: 16px;
    transition: all 0.3s;
}

.search-input:focus {
    outline: none;
    border-color: var(--search-focus);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

.search-icon {
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--muted);
    font-size: 18px;
}

.search-results {
    margin-top: 12px;
    font-size: 14px;
    color: var(--muted);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.clear-search {
    background: transparent;
    color: var(--primary);
    border: 1px solid var(--primary);
    padding: 6px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 13px;
    transition: all 0.2s;
}

.clear-search:hover {
    background: rgba(59, 130, 246, 0.1);
}

/* QUICK SEARCH BUTTONS */
.quick-search {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    flex-wrap: wrap;
}

.quick-btn {
    background: rgba(30, 41, 59, 0.7);
    color: var(--text);
    border: 1px solid var(--border);
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
}

.quick-btn:hover {
    background: var(--primary);
    border-color: var(--primary);
}

/* SUMMARY */
.summary {
    background: var(--card-bg);
    margin: 16px;
    padding: 16px;
    border-radius: 16px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.summary-item {
    background: rgba(30, 41, 59, 0.8);
    padding: 16px 12px;
    border-radius: 12px;
    text-align: center;
    border: 1px solid var(--border);
    transition: transform 0.2s;
}

.summary-item:hover {
    transform: translateY(-2px);
}

.summary-label {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 6px;
}

.summary-value {
    display: block;
    font-size: 28px;
    font-weight: bold;
    margin-top: 4px;
}

/* STATUS COLORS FOR SUMMARY */
.summary-item:nth-child(2) .summary-value { color: var(--assigned-text); }
.summary-item:nth-child(3) .summary-value { color: var(--pending-text); }
.summary-item:nth-child(4) .summary-value { color: var(--completed-text); }
.summary-item:nth-child(5) .summary-value { color: var(--uploaded-yes); }
.summary-item:nth-child(6) .summary-value { color: var(--uploaded-no); }

/* FILTER CONTROLS */
.filter-controls {
    padding: 0 16px 16px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.filter-btn {
    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--border);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
}

.filter-btn.active {
    background: var(--primary);
    border-color: var(--primary);
    font-weight: 600;
}

.filter-btn:hover {
    background: #2d3748;
}

/* LIST */
.list {
    padding: 0 16px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 16px;
}

.card {
    background: var(--card-bg);
    border-radius: 16px;
    padding: 18px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    border: 2px solid transparent;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

.card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
}

.card.highlight {
    animation: highlightPulse 1.5s ease-in-out;
    border-color: var(--primary) !important;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3), 0 8px 20px rgba(0, 0, 0, 0.2);
}

@keyframes highlightPulse {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
    50% { transform: scale(1.02); box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
}

/* CARD STATUS INDICATOR */
.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 6px;
    height: 100%;
}

/* Status-specific colors */
.card[data-status="Assigned"]::before { background: var(--assigned-text); }
.card[data-status="Pending"]::before { background: var(--pending-text); }
.card[data-status="Completed"]::before { background: var(--completed-text); }

.card[data-uploaded="Yes"] { border-color: rgba(16, 185, 129, 0.3); }
.card[data-uploaded="No"] { border-color: rgba(239, 68, 68, 0.3); }

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.wz {
    font-size: 20px;
    font-weight: 700;
    color: var(--text);
}

.serial {
    color: var(--muted);
    font-size: 14px;
    background: rgba(30, 41, 59, 0.7);
    padding: 4px 10px;
    border-radius: 20px;
}

/* STATUS BADGE */
.status-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    margin-bottom: 10px;
}

.status-badge.assigned {
    background: var(--assigned-bg);
    color: var(--assigned-text);
}

.status-badge.pending {
    background: var(--pending-bg);
    color: var(--pending-text);
}

.status-badge.completed {
    background: var(--completed-bg);
    color: var(--completed-text);
}

/* UPLOADED INDICATOR */
.uploaded-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 12px;
    font-size: 14px;
}

.uploaded-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    display: inline-block;
}

.uploaded-yes {
    background: var(--uploaded-yes);
    box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
}

.uploaded-no {
    background: var(--uploaded-no);
    box-shadow: 0 0 8px rgba(239, 68, 68, 0.5);
}

/* CONTROLS */
.controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 15px;
}

select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid var(--border);
    font-size: 14px;
    background: rgba(30, 41, 59, 0.8);
    color: var(--text);
    cursor: pointer;
}

select.status-select:focus {
    outline: none;
    border-color: var(--primary);
}

select.uploaded-select:focus {
    outline: none;
}

/* CARD FOOTER */
.card-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    font-size: 12px;
    color: var(--muted);
}

/* NO RESULTS MESSAGE */
.no-results {
    grid-column: 1 / -1;
    text-align: center;
    padding: 40px 20px;
    color: var(--muted);
    font-size: 16px;
}

.no-results-icon {
    font-size: 48px;
    margin-bottom: 16px;
    opacity: 0.5;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .list {
        grid-template-columns: 1fr;
    }
    
    .summary {
        grid-template-columns: repeat(2, 1fr);
    }
    
    header {
        font-size: 20px;
        padding: 16px;
    }
    
    .search-container {
        top: 84px;
    }
}

@media (max-width: 480px) {
    .filter-controls {
        justify-content: center;
    }
    
    .summary-item {
        padding: 12px 8px;
    }
    
    .summary-value {
        font-size: 24px;
    }
    
    .quick-search {
        justify-content: center;
    }
}
</style>
</head>

<body>

<header>
    Warzone Upload Tracker
    <span>Track your upload progress visually</span>
</header>

<div class="search-container">
    <div class="search-box">
        <div class="search-icon">üîç</div>
        <input type="text" class="search-input" id="searchInput" placeholder="Search by Warzone number (e.g., 677, 680) or status (assigned, pending, completed)...">
    </div>
    <div class="search-results">
        <span id="searchCount">Showing all warzones</span>
        <button class="clear-search" id="clearSearch">Clear Search</button>
    </div>
    <div class="quick-search">
        <button class="quick-btn" data-search="assigned">üîµ Assigned</button>
        <button class="quick-btn" data-search="pending">üü° Pending</button>
        <button class="quick-btn" data-search="completed">üü¢ Completed</button>
        <button class="quick-btn" data-search="uploaded">‚úÖ Uploaded</button>
        <button class="quick-btn" data-search="not uploaded">‚ùå Not Uploaded</button>
        <button class="quick-btn" data-search="680-690">680-690 Range</button>
        <button class="quick-btn" data-search="720-730">720-730 Range</button>
    </div>
</div>

<div class="summary">
    <div class="summary-item">
        <div class="summary-label">Total Warzones</div>
        <div class="summary-value" id="total">0</div>
    </div>
    <div class="summary-item">
        <div class="summary-label">Assigned</div>
        <div class="summary-value" id="assigned">0</div>
    </div>
    <div class="summary-item">
        <div class="summary-label">Pending</div>
        <div class="summary-value" id="pending">0</div>
    </div>
    <div class="summary-item">
        <div class="summary-label">Completed</div>
        <div class="summary-value" id="completed">0</div>
    </div>
    <div class="summary-item">
        <div class="summary-label">Uploaded</div>
        <div class="summary-value" id="uploaded">0</div>
    </div>
    <div class="summary-item">
        <div class="summary-label">Remaining</div>
        <div class="summary-value" id="remaining">0</div>
    </div>
</div>

<div class="filter-controls">
    <button class="filter-btn active" data-filter="all">All</button>
    <button class="filter-btn" data-filter="assigned">Assigned</button>
    <button class="filter-btn" data-filter="pending">Pending</button>
    <button class="filter-btn" data-filter="completed">Completed</button>
    <button class="filter-btn" data-filter="uploaded">Uploaded</button>
    <button class="filter-btn" data-filter="not-uploaded">Not Uploaded</button>
</div>

<div class="list" id="list"></div>

<script>
const completedUploaded = [
    677,679,683,685,690,694,696,697,
    701,704,705,706,708,712,716,720,
    721,723,725,733,734,735,738
];

const STORAGE_KEY = "warzoneTrackerData";
let savedData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

const list = document.getElementById("list");
let sNo = 1;
let allCards = [];
let currentSearch = '';

/* CREATE CARDS */
for (let wz = 677; wz <= 743; wz++) {
    const defaultDone = completedUploaded.includes(wz);

    const data = savedData[wz] || {
        status: defaultDone ? "Completed" : "Assigned",
        uploaded: defaultDone ? "Yes" : "No"
    };

    const card = document.createElement("div");
    card.className = "card";
    card.dataset.wz = wz;
    card.dataset.status = data.status;
    card.dataset.uploaded = data.uploaded;
    
    // Determine badge class based on status
    const badgeClass = data.status.toLowerCase();
    
    card.innerHTML = `
        <div class="card-header">
            <div>
                <div class="wz">Warzone ${wz}</div>
                <div class="status-badge ${badgeClass}">${data.status}</div>
            </div>
            <div class="serial">#${sNo++}</div>
        </div>
        
        <div class="uploaded-indicator">
            <div class="uploaded-dot ${data.uploaded === 'Yes' ? 'uploaded-yes' : 'uploaded-no'}"></div>
            <span>Uploaded: <strong>${data.uploaded}</strong></span>
        </div>

        <div class="controls">
            <select class="status-select">
                <option value="Assigned" ${data.status === "Assigned" ? "selected" : ""}>Assigned</option>
                <option value="Pending" ${data.status === "Pending" ? "selected" : ""}>Pending</option>
                <option value="Completed" ${data.status === "Completed" ? "selected" : ""}>Completed</option>
            </select>

            <select class="uploaded-select">
                <option value="No" ${data.uploaded === "No" ? "selected" : ""}>Not Uploaded</option>
                <option value="Yes" ${data.uploaded === "Yes" ? "selected" : ""}>Uploaded</option>
            </select>
        </div>
        
        <div class="card-footer">
            <span>WZ ID: ${wz}</span>
            <span>${data.uploaded === 'Yes' ? '‚úÖ Ready' : '‚è≥ Pending Upload'}</span>
        </div>
    `;

    list.appendChild(card);
    allCards.push(card);
}

/* SAVE TO LOCALSTORAGE */
function saveData() {
    const data = {};

    allCards.forEach(card => {
        const wz = card.dataset.wz;
        const status = card.querySelector(".status-select").value;
        const uploaded = card.querySelector(".uploaded-select").value;
        
        data[wz] = { status, uploaded };
        
        // Update card attributes for styling
        card.dataset.status = status;
        card.dataset.uploaded = uploaded;
        
        // Update badge
        const badge = card.querySelector(".status-badge");
        badge.className = `status-badge ${status.toLowerCase()}`;
        badge.textContent = status;
        
        // Update uploaded indicator
        const uploadedDot = card.querySelector(".uploaded-dot");
        uploadedDot.className = `uploaded-dot ${uploaded === 'Yes' ? 'uploaded-yes' : 'uploaded-no'}`;
        
        const uploadedText = card.querySelector(".uploaded-indicator strong");
        uploadedText.textContent = uploaded;
        
        const footerText = card.querySelector(".card-footer span:last-child");
        footerText.textContent = uploaded === 'Yes' ? '‚úÖ Ready' : '‚è≥ Pending Upload';
    });

    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
}

/* CALCULATE SUMMARY */
function calculate() {
    let completed = 0, assigned = 0, pending = 0, uploaded = 0;

    allCards.forEach(card => {
        const status = card.querySelector(".status-select").value;
        const up = card.querySelector(".uploaded-select").value;

        if (status === "Completed") completed++;
        if (status === "Assigned") assigned++;
        if (status === "Pending") pending++;
        if (up === "Yes") uploaded++;
    });

    document.getElementById("total").textContent = allCards.length;
    document.getElementById("completed").textContent = completed;
    document.getElementById("assigned").textContent = assigned;
    document.getElementById("pending").textContent = pending;
    document.getElementById("uploaded").textContent = uploaded;
    document.getElementById("remaining").textContent = allCards.length - completed;
}

/* SEARCH FUNCTIONALITY */
function performSearch(searchTerm) {
    currentSearch = searchTerm.toLowerCase().trim();
    const searchCount = document.getElementById("searchCount");
    let visibleCount = 0;
    
    // Remove previous highlights
    allCards.forEach(card => card.classList.remove('highlight'));
    
    if (!currentSearch) {
        // Show all cards
        allCards.forEach(card => {
            card.style.display = 'block';
            visibleCount++;
        });
        searchCount.textContent = `Showing all ${visibleCount} warzones`;
        return;
    }
    
    // Check if search is for a number range (e.g., "680-690")
    const rangeMatch = currentSearch.match(/(\d+)-(\d+)/);
    if (rangeMatch) {
        const start = parseInt(rangeMatch[1]);
        const end = parseInt(rangeMatch[2]);
        
        allCards.forEach(card => {
            const wz = parseInt(card.dataset.wz);
            if (wz >= start && wz <= end) {
                card.style.display = 'block';
                card.classList.add('highlight');
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });
        
        searchCount.textContent = `Found ${visibleCount} warzones in range ${start}-${end}`;
        return;
    }
    
    // Check if search is for a specific number
    if (/^\d+$/.test(currentSearch)) {
        const searchNum = parseInt(currentSearch);
        
        allCards.forEach(card => {
            const wz = parseInt(card.dataset.wz);
            if (wz === searchNum) {
                card.style.display = 'block';
                card.classList.add('highlight');
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });
        
        searchCount.textContent = visibleCount > 0 ? 
            `Found Warzone ${searchNum}` : 
            `No warzone found with number ${searchNum}`;
        return;
    }
    
    // Search by status or uploaded state
    allCards.forEach(card => {
        const status = card.querySelector(".status-select").value.toLowerCase();
        const uploaded = card.querySelector(".uploaded-select").value.toLowerCase();
        const wz = card.dataset.wz;
        
        let matches = false;
        
        if (currentSearch.includes('assigned') && status === 'assigned') matches = true;
        if (currentSearch.includes('pending') && status === 'pending') matches = true;
        if (currentSearch.includes('complete') && status === 'completed') matches = true;
        if (currentSearch.includes('uploaded') && uploaded === 'yes') matches = true;
        if (currentSearch.includes('not uploaded') && uploaded === 'no') matches = true;
        
        // Also check if the search term is in the warzone text
        if (wz.includes(currentSearch)) matches = true;
        
        if (matches) {
            card.style.display = 'block';
            card.classList.add('highlight');
            visibleCount++;
        } else {
            card.style.display = 'none';
        }
    });
    
    searchCount.textContent = visibleCount > 0 ? 
        `Found ${visibleCount} warzones matching "${searchTerm}"` : 
        `No warzones found matching "${searchTerm}"`;
}

/* CLEAR SEARCH */
function clearSearch() {
    document.getElementById('searchInput').value = '';
    performSearch('');
}

/* FILTER CARDS */
function filterCards(filterType) {
    const cards = document.querySelectorAll(".card");
    
    cards.forEach(card => {
        const status = card.querySelector(".status-select").value;
        const uploaded = card.querySelector(".uploaded-select").value;
        let showCard = true;
        
        switch(filterType) {
            case "assigned":
                showCard = status === "Assigned";
                break;
            case "pending":
                showCard = status === "Pending";
                break;
            case "completed":
                showCard = status === "Completed";
                break;
            case "uploaded":
                showCard = uploaded === "Yes";
                break;
            case "not-uploaded":
                showCard = uploaded === "No";
                break;
            case "all":
            default:
                showCard = true;
        }
        
        card.style.display = showCard ? "block" : "none";
    });
    
    // Update active filter button
    document.querySelectorAll(".filter-btn").forEach(btn => {
        btn.classList.toggle("active", btn.dataset.filter === filterType);
    });
}

/* EVENTS */
document.addEventListener("change", (e) => {
    if (e.target.classList.contains("status-select") || e.target.classList.contains("uploaded-select")) {
        saveData();
        calculate();
    }
});

// Search input event
document.getElementById('searchInput').addEventListener('input', (e) => {
    performSearch(e.target.value);
});

// Clear search button
document.getElementById('clearSearch').addEventListener('click', clearSearch);

// Quick search buttons
document.querySelectorAll('.quick-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const searchTerm = btn.dataset.search;
        document.getElementById('searchInput').value = searchTerm;
        performSearch(searchTerm);
    });
});

// Filter buttons
document.querySelectorAll(".filter-btn").forEach(btn => {
    btn.addEventListener("click", () => {
        filterCards(btn.dataset.filter);
    });
});

// Initialize
calculate();
</script>

</body>
</html>